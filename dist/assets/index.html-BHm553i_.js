import"./modulepreload-polyfill-B5Qt9EMX.js";import{r,j as e,c,R as a}from"./client-D7f9BLy3.js";function d(){const[o,n]=r.useState(!1);r.useEffect(()=>{chrome.runtime.sendMessage({type:"GET_STATUS"},t=>{t&&typeof t.isRecording=="boolean"&&n(t.isRecording)})},[]);const s=async()=>{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});t&&t.id?(n(!0),chrome.runtime.sendMessage({type:"START_RECORDING",tabId:t.id})):console.error("No active tab found")},i=()=>{n(!1),chrome.runtime.sendMessage({type:"STOP_RECORDING"})};return e.jsxs("div",{style:{width:"300px",padding:"20px",textAlign:"center"},children:[e.jsx("h2",{children:"Malu Recorder"}),o?e.jsx("button",{onClick:i,"data-testid":"stop-btn",children:"Stop Recording"}):e.jsx("button",{onClick:s,"data-testid":"start-btn",children:"Start Recording"})]})}function u(){return e.jsx(d,{})}c.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(u,{})}));
